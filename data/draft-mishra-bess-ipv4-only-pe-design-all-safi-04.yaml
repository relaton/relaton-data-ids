---
id: draftmishrabessipv4onlypedesignallsafi04
type: standard
schema_version: v1.4.1
title:
- language: en
  script: Latn
  content: IPv4-Only PE Design All SAFI
source:
- type: src
  content: https://datatracker.ietf.org/doc/html/draft-mishra-bess-ipv4-only-pe-design-all-safi-04
docidentifier:
- content: draft-mishra-bess-ipv4-only-pe-design-all-safi
  type: Internet-Draft
- content: draft-mishra-bess-ipv4-only-pe-design-all-safi-04
  type: Internet-Draft
  primary: true
docnumber: I-D.mishra-bess-ipv4-only-pe-design-all-safi
date:
- type: published
  at: '2023-05-20'
contributor:
- role:
  - type: author
  person:
    name:
      forename:
      - language: en
        script: Latn
        content: Gyan
      - language: en
        script: Latn
        initial: G
      - language: en
        script: Latn
        initial: S
      formatted_initials:
        language: en
        content: G. S.
      surname:
        language: en
        content: Mishra
      completename:
        language: en
        content: Gyan Mishra
    affiliation:
    - organization:
        name:
        - language: en
          content: Verizon Inc.
- role:
  - type: author
  person:
    name:
      forename:
      - language: en
        script: Latn
        content: Jeff
      - language: en
        script: Latn
        initial: J
      formatted_initials:
        language: en
        content: J.
      surname:
        language: en
        content: Tantsura
      completename:
        language: en
        content: Jeff Tantsura
    affiliation:
    - organization:
        name:
        - language: en
          content: Microsoft, Inc.
- role:
  - type: author
  person:
    name:
      forename:
      - language: en
        script: Latn
        content: Mankamana
      - language: en
        script: Latn
        initial: M
      - language: en
        script: Latn
        initial: P
      formatted_initials:
        language: en
        content: M. P.
      surname:
        language: en
        content: Mishra
      completename:
        language: en
        content: Mankamana Prasad Mishra
    affiliation:
    - organization:
        name:
        - language: en
          content: Cisco Systems
- role:
  - type: author
  person:
    name:
      forename:
      - language: en
        script: Latn
        content: Sudha
      - language: en
        script: Latn
        initial: S
      formatted_initials:
        language: en
        content: S.
      surname:
        language: en
        content: Madhavi
      completename:
        language: en
        content: Sudha Madhavi
    affiliation:
    - organization:
        name:
        - language: en
          content: Juniper Networks, Inc.
- role:
  - type: author
  person:
    name:
      forename:
      - language: en
        script: Latn
        content: Qing
      - language: en
        script: Latn
        initial: Q
      formatted_initials:
        language: en
        content: Q.
      surname:
        language: en
        content: Yang
      completename:
        language: en
        content: Qing Yang
    affiliation:
    - organization:
        name:
        - language: en
          content: Arista Networks
- role:
  - type: author
  person:
    name:
      forename:
      - language: en
        script: Latn
        content: Adam
      - language: en
        script: Latn
        initial: A
      formatted_initials:
        language: en
        content: A.
      surname:
        language: en
        content: Simpson
      completename:
        language: en
        content: Adam Simpson
    affiliation:
    - organization:
        name:
        - language: en
          content: Nokia
- role:
  - type: author
  person:
    name:
      forename:
      - language: en
        script: Latn
        content: Shuanglong
      - language: en
        script: Latn
        initial: S
      formatted_initials:
        language: en
        content: S.
      surname:
        language: en
        content: Chen
      completename:
        language: en
        content: Shuanglong Chen
    affiliation:
    - organization:
        name:
        - language: en
          content: Huawei Technologies
version:
- draft: '04'
language:
- en
script:
- Latn
abstract:
- language: en
  script: Latn
  content: "   As Enterprises and Service Providers try to decide whether or not to\n
    \  upgrade their brown field or green field MPLS/SR core to an IPv6\n   transport,
    Multiprotocol BGP (MP-BGP)now plays an important role in\n   the transition of
    their Provider (P) core network as well as Provider\n   Edge (PE) Edge network
    from IPv4 to IPv6.  Operators must be able to\n   continue to support IPv4 customers
    when both the Core and Edge\n   networks are IPv4-Only.\n\n   This specification
    details an important External BGP (eBGP) PE-CE\n   Edge IPv4-Only peering design
    that leverages the MP-BGP capability\n   exchange by using IPv4 peering as pure
    transport, allowing both IPv4\n   Network Layer Reachability Information (NLRI)
    and IPv6 Network Layer\n   Reachability Information (NLRI)to be carried over the
    same (Border\n   Gateway Protocol) BGP TCP session.  The design change provides
    the\n   same Dual Stacking functionality that exists today with separate IPv4\n
    \  and IPv6 BGP sessions as we have today.  With this design change from\n   a
    control plane perspective a single IPv4 is required for both IPv4\n   and IPv6
    routing updates and from a data plane forwarindg perspective\n   an IPv4 address
    need only be configured on the PE and CE interface\n   for both IPv4 and IPv6
    packet forwarding.\n\n   This specification provides a IPv4-Only PE design solution
    for use\n   cases where operators are not yet ready to migrate to IPv6 or SRv6\n
    \  core and would like to stay on IPv4-Only Core short to long term and\n   maybe
    even indefinitely.  With this design, operators can now remain\n   with an IPv4-Only
    Core and do not have to migrate to an IPv6-Only\n   Core.  From a technical standpoint
    the underlay can remain IPv4 and\n   still transport IPv6 NLRI to support IPv6
    customers, and so does not\n   need to be migrated to IPv6-Only underlay.  With
    this IPv4-Only PE\n   Design solution , IPv4 addressing only needs to be provisioned
    for\n   the IPv4-Only PE-CE eBGP Edge peering design, thereby eliminating\n   IPv6
    provisioning at the Edge.  This core and edge IPv4-Only peering\n   design can
    apply to any eBGP peering, public internet or private,\n   which can be either
    Core networks, Data Center networks, Access\n   networks or can be any eBGP peering
    scenario.\n\n   This document provides a IPv4-Only PE design solution for use
    cases\n   where operators are not yet ready to migrate to IPv6 or SRv6 core and\n
    \  would like to stay on IPv4-Only Core short to long term and maybe\n   even
    indefinitely.  With this design, operators can now remain with\n   an IPv4-Only
    Core and do not have to migrate to an IPv6-Only Core.\n   From a technical standpoint
    the underlay can remain IPv4 and still\n   transport IPv6 NLRI to support IPv6
    customers, and so does not need\n   to be migrated to IPv6-Only underlay.  With
    this IPv4-Only PE Design\n   solution , IPv4 addressing only needs to be provisioned
    for the\n   IPv4-Only PE-CE eBGP Edge peering design, thereby eliminating IPv6\n
    \  provisioning at the Edge.  This core and edge IPv4-Only peering\n   design
    can apply to any eBGP peering, public internet or private,\n   which can be either
    Core networks, Data Center networks, Access\n   networks or can be any eBGP peering
    scenario.\n\n   This document provides vendor specific test cases for the IPv4-Only\n
    \  peering design as well as test results for the five major vendors\n   stakeholders
    in the routing and switching indusrty, Cisco, Juniper,\n   Arista, Nokia and Huawei.
    \ With the test results provided for the\n   IPv4-Only Edge peering design, the
    goal is that all other vendors\n   around the world that have not been tested
    will begin to adopt and\n   implement this new Best Current Practice for eBGP
    IPv4-Only Edge\n   peering.\n\n   This Best Current Practice IPv4-only eBGP peering
    design\n   specification will help in use cases where operators are not yet\n
    \  ready to migrate to IPv6 or SRv6 core or for very lage operator core\n   with
    thousdands of nodes where it maybe impractical to change the\n   underlay infrastructure
    to IPv6, and can now keep the existing IPv4\n   data plane IP, MPLS or SR-MPLS
    underlay intact indefinitely.\n\n   This document also defines a new IPv4 next
    hop encoding for IPv6 NLRI\n   over IPv4 Next Hop to uses 4 byte IPv4 address
    for the next hop and\n   not a IPv4 mapped IPv6 address.  This encoding has been
    adopted by\n   the industry but has not been standardized until now with this\n
    \  document.\n\n   This document details an important External BGP (eBGP) PE-PE
    Inter-AS\n   IPv6-Only peering design that leverages the MP-BGP capability\n   exchange
    by using IPv6 peering as pure transport, allowing all and\n   any IPv4 Network
    Layer Reachability Information (NLRI) and IPv6\n   Network Layer Reachability
    Information (NLRI)to be carried over the\n   same (Border Gateway Protocol) BGP
    TCP session for all Address Family\n   Identifiers (AFI) and Subsequent Address
    Family Identifiers(SAFI).\n   The design change provides the same Dual Stacking
    functionality that\n   exists today with separate IPv4 and IPv6 BGP sessions as
    we have\n   today.  With this IPv4-Only PE Design, IPv6 address MUST not be\n
    \  configured on the the Provider Edge (PE) - Customer Edge (CE), or\n   Inter-AS
    ASBR (Autonomous System Boundary Router) to ASBR (Autonomous\n   System Boundary
    Router) PE-PE Provider Edge (PE) - Provider Edge\n   (PE).  From a control plane
    perspective a single IPv4-Only peer is\n   required for both IPv4 and IPv6 routing
    updates and from a data plane\n   forwarindg perspective an IPv4 address need
    only be configured on the\n   PE to PE Inter-AS peering interface for both IPv4
    and IPv6 packet\n   forwarding.  This document defines the IPv4-Only PE Design
    as a new\n   PE-CE Edge and ASBR-ASBR PE-PE Inter-AS BGP peering Standard defined\n
    \  in this specification which is now extended to support to all AFI/\n   SAFI
    ubiquitously.  As service providers migrate to Segment Routing\n   architecture
    SR-MPLS and SRv6, VPN overlay exsits as well, and thus\n   Inter-AS options Option-A,
    Option-B, Option-AB and Option-C are still\n   applicable and thus this extension
    of IPv4-Only peering architecure\n   extension to Inter-AS peering is very relevant
    to Segment Routing as\n   well.\n\n\t "
relation:
- type: updates
  bibitem:
    formattedref: draft-mishra-bess-ipv4-only-pe-design-all-safi-03
    source:
    - type: src
      content: https://datatracker.ietf.org/doc/html/draft-mishra-bess-ipv4-only-pe-design-all-safi-03
    docidentifier:
    - content: draft-mishra-bess-ipv4-only-pe-design-all-safi-03
      type: Internet-Draft
      primary: true
- type: updatedBy
  bibitem:
    formattedref: draft-mishra-bess-ipv4-only-pe-design-all-safi-05
    source:
    - type: src
      content: https://datatracker.ietf.org/doc/html/draft-mishra-bess-ipv4-only-pe-design-all-safi-05
    docidentifier:
    - content: draft-mishra-bess-ipv4-only-pe-design-all-safi-05
      type: Internet-Draft
      primary: true
series:
- type: main
  title:
  - language: en
    script: Latn
    content: Internet-Draft
  number: draft-mishra-bess-ipv4-only-pe-design-all-safi-04
ext:
  schema_version: v1.0.1
  doctype:
    content: internet-draft
  flavor: ietf
